---
title: "Custom Installation"
type: "document"
category: "Getting started"
description: "Maistra uses a custom resource to initialize your environment. This document describes how to customize the installation to your specific environment."
---

The istio-operator relies on a custom resource to set up Istio. This configuration gets passed to an ansible playbook which will then set up your environment.

Minimal Example
---------------
At a minimum, the following arguments are required.

[source,yaml]
----
apiVersion: "istio.openshift.com/v1alpha1"
kind: "Installation"
metadata:
  name: "istio-installation"
jaeger:
  elasticsearch_memory: 1Gi
----

Complete Example
----------------
Below, you can an example with all supported arguments populated.

[source,yaml]
----
apiVersion: "istio.openshift.com/v1alpha1"
kind: "Installation"
metadata:
  name: "istio-installation"
spec:
  deployment_type: openshift
  istio:
    authentication: true
    community: false
    prefix: openshift-istio-tech-preview/
    version: 0.1.0
  jaeger:
    prefix: distributed-tracing-tech-preview/
    version: 1.6.0
    elasticsearch_memory: 1Gi
  kiali:
    username: username
    password: password
    prefix: kiali/
    version: v0.7.2
  launcher:
    openshift:
      user: user
      password: password
    github:
      username: username
      token: token
    catalog:
      filter: filter
      branch: branch
      repo: repo
----

## [[General]] General

|===
|Parameter |Description |Values | Default

|deployment_type
|Selects whether to use OpenShift or Origin default values for unset fields
|origin, openshift
|origin
|===

## [[Istio]] Istio
|===
|Parameter |Description |Values | Default

|authentication
|Whether to enable mutual authentication
|true/false
|false

|community
|Whether to modify image names to match community images.
|true/false
|false

|prefix
|a prefix to apply to Istio image names used in docker pull.
|valid image repo
|maistra/ if deployment_type is origin and openshift-istio-tech-preview/ if deployment_type is openshift

|version
|docker tag to use with Istio images
|valid docker tag
|0.1.0
|===

## [[Jaeger]] Jaeger
|===
|Parameter |Description |Values |Default

|prefix
|a prefix to apply to Jaeger image names used in docker pull.
|valid image repo
|jaegertracing/ if deployment_type is origin and distributed-tracing-tech-preview/ if deployment_type is openshift


|version
|docker tag to use with Jaeger images
|valid docker tag
|1.6.0

|elasticsearch_memory
|The amount of memory to allocate to the elastic search install
|amount of memory to use (example: 1Gi, 512M)
|1Gi

|===

## [[Kiali]] Kiali
|===
|Parameter |Description |Values |Default

|username
|username to use with Kiali
|valid user
|

|password
|password to use with Kiali
|valid password
|

|prefix
|a prefix to apply to Kiali image names used in docker pull.
|valid image repo
|kiali/


|version
|docker tag to use with Kiali images
|valid Kiali tag
|0.7.2

|===

## [[Launcher]] Launcher

### [[Launcher_OpenShift]] Openshift

|===
|Parameter |Description |Default

|user
|OpenShift user to use in Fabric8
|developer

|password
|OpenShift user password to use in Fabric8
|developer

|===

### [[Launcher_Github]] Github
|===
|Parameter |Description |Default

|username
|GitHub user to use in Fabric8
|

|token
|GitHub token to use in Fabric8
|

|===

### [[Launcher_Catalog]] Catalog
|===
|Parameter |Description |Default

|filter
|Red Hat booster catalog filter
|booster.mission.metadata.istio

|branch
|Red Hat Booster catalog to use for Fabric8
|v35

|repo
|Repo to use for Fabric8
|https://github.com/fabric8-launcher/launcher-booster-catalog.git

|===
